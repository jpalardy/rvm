<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>
      rvm: Ruby Version Manager -
      Named Gem Sets
    </title>
    <link href='/bp.css' media='screen' rel='stylesheet' type='text/css' />
    <link href='/style.css' media='screen' rel='stylesheet' type='text/css' />
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <a href='http://github.com/wayneeseguin/rvm'>
      <img alt='Fork me on GitHub' src='http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png' style='position: absolute; top: 0; right: 0; border: 0;' />
    </a>
    <div class='span-7' id='sidebar'>
      <div id='header'>
        <div class='title'>
          <a href='/'>
            rvm
          </a>
        </div>
        <div class='tagline'>
          Ruby Version Manager
        </div>
      </div>
    </div>
    <br />
    <div class='container'>
      <div class='span-5 append-1' id='sidebar'>
        <h2>
          Documentation
        </h2>
        <ul>
          <li>
            <a href='/introduction/'>
              Introduction
            </a>
          </li>
          <li>
            <a href='/install/'>
              Installing rvm
            </a>
          </li>
          <li>
            <a href='/upgrade/'>
              Upgrading rvm
            </a>
          </li>
          <li>
            <a href='/cli/'>
              CLI
            </a>
          </li>
          <li>
            <a href='/rubies/'>
              Installing Rubies
            </a>
          </li>
          <li>
            <a href='/default/'>
              Set Default interpreter
            </a>
          </li>
          <li>
            <a href='/gems/'>
              Ruby Gems
            </a>
          </li>
          <li>
            <a href='/gemsets/'>
              Named gems(ets)
            </a>
          </li>
          <li>
            <a href='/ruby/'>
              ruby 'do' action
            </a>
          </li>
          <li>
            <a href='/rake/'>
              rake 'do' action
            </a>
          </li>
          <li>
            <a href='/gem/'>
              gem 'do' action
            </a>
          </li>
          <li>
            <a href='/benchmark/'>
              benchmarking
            </a>
          </li>
          <li>
            <a href='/monitor/'>
              monitor
            </a>
          </li>
          <li>
            <a href='/subshells/'>
              Subshells
            </a>
          </li>
          <li>
            <a href='/rvmrc/'>
              rvmrc
            </a>
          </li>
          <li>
            <a href='/hooks/'>
              hooks
            </a>
          </li>
          <li>
            <a href='/prompt/'>
              Prompt
            </a>
          </li>
          <li>
            <a href='/examples/'>
              Many Examples
            </a>
          </li>
          <li>
            <a href='/faq/'>
              FAQ & Notes
            </a>
          </li>
          <li>
            <a href='/requirements/'>
              Pre-Requirements
            </a>
          </li>
          <li>
            <a href='/passenger/'>
              Passenger
            </a>
          </li>
          <li>
            <a href='/bundler/'>
              Bundler
            </a>
          </li>
          <li>
            <a href='/zsh/'>
              Zsh
            </a>
          </li>
          <li>
            <a href='/mysql/'>
              MySQL
            </a>
          </li>
          <li>
            <a href='/troubleshooting/'>
              Troubleshooting
            </a>
          </li>
          <li>
            <a href='/contribute/'>
              Contributing
            </a>
          </li>
          <li>
            <a href='/about/'>
              About
            </a>
          </li>
          <li>
            <a href='/donations/'>
              Donations
            </a>
          </li>
          <li>
            <a href='/thanks/'>
              Credits &amp; Thanks
            </a>
          </li>
        </ul>
        <h2>
          Development
        </h2>
        <ul>
          <li>
            <a href='http://groups.google.com/group/rubyversionmanager/'>
              Google Group
            </a>
          </li>
          <li>
            <a href='http://github.com/wayneeseguin/rvm/tree/master'>
              Git (GitHub)
            </a>
          </li>
          <li>
            <a href='https://www.pivotaltracker.com/projects/26822'>
              Pivotal Tracker Project
            </a>
          </li>
        </ul>
      </div>
      <div class='span-18' id='main'>
        <a name='top'></a>
        <h1>
          Named Gem Sets
        </h1>
        <p>
          rvm gives you compartmentalized independent ruby setups.
          This means that ruby, gems, irb are all separate and self contained from system and from each other.
        </p>
        <p>
          You may even have separate named gem sets.
        </p>
        <p>
          Let's say, for example, that you are testing two versions of a gem with ruby 1.9.1.
          you can install one to the default 1.9.1 and you can create a named gem set for the other version and switch between them easily.
        </p>
        <h3>
          Example: testing gems
        </h3>
        <pre class='code'>rvm 1.9.1%testing</pre>
        <p>
          will use a '1.9.1%testing' gems dir, whereas:
        </p>
        <pre class='code'>rvm 1.9.1</pre>
        <p>
          use the normal 1.9.1 gems dir :)
        </p>
        <h3>
          Example: Rails versions & upgrading apps
        </h3>
        <p>
          To illustrate the point let's talk about a common use case. Let us assume that we are testing out a rails application in order to upgrade it to the latest Rails from a previous version.  rvm makes such testing very easy as it lets you quickly switch between multiple rails versions. First let us set up the environments.
        </p>
        <pre class='code'>rvm 1.9.1&#x000A;gem install rails # 2.3.3&#x000A;&#x000A;rvm 1.9.1%rails222&#x000A;gem install rails -v 2.2.2&#x000A;&#x000A;rvm 1.8.7%rails126&#x000A;gem install rails -v 1.2.6&#x000A;&#x000A;rvm 1.8.7&#x000A;gem install rails -v 1.2.3</pre>
        <p>
          Note that above on each ruby installs you can have a completely separate versions!
          Now that our environments are setup switching between rails versions and ruby versions is quite simple:
        </p>
        <pre class='code'>∴ rvm 1.8.7%rails126 ; rails --version&#x000A;&#x000A;Rails 1.2.6&#x000A;&#x000A;∴ rvm 1.8.7 ; rails --version&#x000A;&#x000A;Rails 1.2.3&#x000A;&#x000A;∴ rvm 1.9.1%rails220 ; rails --version&#x000A;&#x000A;Rails 2.2.0&#x000A;&#x000A;∴ rvm 1.9.1 ; rails --version&#x000A;&#x000A;Rails 2.3.3</pre>
        <h2>
          Warning!!!
        </h2>
        <p>
          * rvm gives you a separate gem directory for each and every ruby version and gem set.*
          What this means is that gems will have to explicitly installed for each revision and gem set.
        </p>
        <p>
          Although I recommend against using it, if you are sure you can use 'rvm gemdup default' and 'rvm gemdup system' to clone user default gems and system gems respectively.
        </p>
        <h2>
          Gem Sets with passenger
        </h2>
        <p>
          Documented on the
          <a href='/passenger/'>
            page
          </a>
        </p>
        <a name='managing'></a>
        <h2>
          Managing gem sets
        </h2>
        <p>
          We can not only use completely separate gem sets per application/project/etc... we can also dump and load them easily.
        </p>
        <p>
          To switch to a gem set
        </p>
        <pre class='code'>∴ rvm gems albinochipmunk&#x000A;</pre>
        <p>
          To obtain the name of the currently selected gem set
        </p>
        <pre class='code'>∴ rvm gems albinochipmunk ; rvm gems name&#x000A;albinochipmunk&#x000A;</pre>
        <p>
          To obtain the full path to the directory for the currently selected gem set:
        </p>
        <pre class='code'>∴ rvm gems albinochipmunk; rvm gems dir&#x000A;/Users/wayne/.rvm/gems/ruby/1.9.1%albinochipmunk&#x000A;</pre>
        <p>
          To dump a gem set easily, assuming a project called 'albinochipmunk' running on Ruby 1.9.1:
        </p>
        <pre class='code'>∴ rvm 1.9.1%albinochipmunk dump</pre>
        <p>
          will create an 'albinochipmunk.gemset' file.
        </p>
        <p>
          Alternatively, if you already have a ruby selected
        </p>
        <pre class='code'>rvm gems dump</pre>
        <p>
          You can specify the gemset filename prefix also
        </p>
        <pre class='code'>rvm gems dump albinochipmunk.gems</pre>
        <p>
          A subtle difference with the above command is to leave off the '.gems' which will dump the gems for the gemset named 'mygemsetname'
        </p>
        <pre class='code'>rvm gems dump albinochipmunk</pre>
        <h3>
          Loading a gem set
        </h3>
        <p>
          To load this gem set simply do:
        </p>
        <pre class='code'>∴ rvm 1.9.1%albinochipmunk load</pre>
        <p>
          Note that you can use any gem set name to load into.
        </p>
        <p>
          Alternatively, if you already have a ruby selected:
        </p>
        <pre class='code'>rvm gems load</pre>
        <p>
          You can specify the gemset filename prefix also
        </p>
        <pre class='code'>rvm gems dump albinochipmunk&#x000A;</pre>
        <p>
          You can delete a gem set (the --force makes it not prompt you :) )
        </p>
        <pre class='code'>rvm gems albinochipmunk ; rvm --force gems delete albinochipmunk"&#x000A;</pre>
        <p>
          Loading without arguments first checks for a gemset file with the current gem set name prefix, then checks for 'default.gems' and finally looks for a 'system.gems'.
        </p>
        <pre class='code'>rvm gems albinochipmunk ; rvm gems load # will look for albinochipmunk.gems first, then default.gems and finally system.gems&#x000A;</pre>
        <p>
          To get a list of all named gem sets for the current ruby interpreter / version
        </p>
        <pre class='code'>rvm gems list&#x000A;</pre>
        <p>
          To use a named gem set with a rvm multi action, append it to the ruby selector string using a '%'
        </p>
        <pre class='code'>rvm 1.9.1%albinochipmunk,ree%albinochipmunk,jruby%albinochipmunk rake test&#x000A;</pre>
        <p>
          Alternatively and with less typing this should also work to use 'albinochipmunk' gem set for each interpreter
        </p>
        <pre class='code'>rvm gems albinochipmunk ; rvm 1.9.1,ree,jruby rake test</pre>
        <a name='bottom'></a>
      </div>
      <div class='span-5 prepend-1 rightlast' id='sidebar'>
        <h2>
          Sponsors
        </h2>
        <p>
          <a href='http://www.blueboxgrp.com/'>
            <img alt='Blue Box Group' src='/images/bbg_logo.png' />
          </a>
        </p>
        <h2>
          Donate
        </h2>
        <p>
          Love rvm? A donation would help justify to my wife why I spend so much time working on Open Source projects like rvm ;)
        </p>
        <a href='http://www.pledgie.com/campaigns/7067'>
          <img alt='Click here to lend your support to: rvm and make a donation at www.pledgie.com !' border='0' src='http://www.pledgie.com/campaigns/7067.png?skin_name=chrome' />
        </a>
        <h2>
          Recommend
        </h2>
        <p>
          If you like my work with rvm, please recommend me on *with a comment as to why you recommend me* on
          <a href='http://www.workingwithrails.com/recommendation/for/person/7192-wayne-e-seguin'>
            Working With Rails
          </a>
          Thank You!!!
        </p>
        <h2>
          IRC
        </h2>
        <ul>
          <li>
            <a href='http://webchat.freenode.net/?channels=rvm'>
              irc.freenode.net#rvm
            </a>
          </li>
          <li>
            wayneeseguin
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
